<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Running ITensor and Julia Codes · ITensors.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../index.html"><img src="../assets/logo.png" alt="ITensors.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../index.html">ITensors.jl</a></span></div><form class="docs-search" action="../search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../index.html">Introduction</a></li><li><span class="tocitem">Getting Started with ITensor</span><ul><li><a class="tocitem" href="Installing.html">Installing Julia and ITensor</a></li><li class="is-active"><a class="tocitem" href="RunningCodes.html">Running ITensor and Julia Codes</a><ul class="internal"><li><a class="tocitem" href="#Basic-Example-Code-Template"><span>Basic Example Code Template</span></a></li><li><a class="tocitem" href="#Running-a-Script"><span>Running a Script</span></a></li><li><a class="tocitem" href="#Running-Interactively"><span>Running Interactively</span></a></li><li><a class="tocitem" href="#Compiling-an-ITensor-System-Image"><span>Compiling an ITensor System Image</span></a></li><li><a class="tocitem" href="#Using-a-Compiled-Sysimage-in-Jupyter-or-VS-Code"><span>Using a Compiled Sysimage in Jupyter or VS Code</span></a></li></ul></li><li><a class="tocitem" href="DebugChecks.html">Enabling Debug Checks</a></li><li><a class="tocitem" href="NextSteps.html">Next Steps</a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorials/DMRG.html">DMRG</a></li><li><a class="tocitem" href="../tutorials/QN_DMRG.html">Quantum Number Conserving DMRG</a></li><li><a class="tocitem" href="../tutorials/MPSTimeEvolution.html">MPS Time Evolution</a></li></ul></li><li><span class="tocitem">Code Examples</span><ul><li><a class="tocitem" href="../examples/ITensor.html">ITensor Examples</a></li><li><a class="tocitem" href="../examples/MPSandMPO.html">MPS and MPO Examples</a></li><li><a class="tocitem" href="../examples/DMRG.html">DMRG Examples</a></li><li><a class="tocitem" href="../examples/Physics.html">Physics (SiteType) System Examples</a></li></ul></li><li><span class="tocitem">Documentation</span><ul><li><a class="tocitem" href="../IndexType.html">Index</a></li><li><a class="tocitem" href="../IndexSetType.html">Index collections</a></li><li><a class="tocitem" href="../ITensorType.html">ITensor</a></li><li><a class="tocitem" href="../MPSandMPO.html">MPS and MPO</a></li><li><a class="tocitem" href="../QN.html">QN</a></li><li><a class="tocitem" href="../SiteType.html">SiteType and op, state, val functions</a></li><li><a class="tocitem" href="../IncludedSiteTypes.html">SiteTypes Included with ITensor</a></li><li><input class="collapse-toggle" id="menuitem-5-8" type="checkbox"/><label class="tocitem" for="menuitem-5-8"><span class="docs-label">DMRG</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../DMRG.html">DMRG</a></li><li><a class="tocitem" href="../Sweeps.html">Sweeps</a></li><li><a class="tocitem" href="../ProjMPO.html">ProjMPO</a></li><li><a class="tocitem" href="../ProjMPOSum.html">ProjMPOSum</a></li><li><a class="tocitem" href="../Observer.html">Observer System for DMRG</a></li><li><a class="tocitem" href="../DMRGObserver.html">DMRGObserver</a></li></ul></li><li><a class="tocitem" href="../OpSum.html">OpSum (AutoMPO)</a></li></ul></li><li><span class="tocitem">Frequently Asked Questions</span><ul><li><a class="tocitem" href="../faq/JuliaAndCpp.html">Programming Language (Julia, C++, ...) FAQs</a></li><li><a class="tocitem" href="../faq/DMRG.html">DMRG FAQs</a></li><li><a class="tocitem" href="../faq/QN.html">Quantum Number (QN) FAQs</a></li><li><a class="tocitem" href="../faq/Development.html">ITensor Development FAQs</a></li><li><a class="tocitem" href="../faq/RelationshipToOtherLibraries.html">Relationship of ITensor to other tensor libraries FAQs</a></li><li><a class="tocitem" href="../faq/JuliaPkg.html">Julia Package Manager FAQs</a></li></ul></li><li><span class="tocitem">Upgrade guides</span><ul><li><a class="tocitem" href="../UpgradeGuide_0.1_to_0.2.html">Upgrading from 0.1 to 0.2</a></li></ul></li><li><a class="tocitem" href="../Einsum.html">ITensor indices and Einstein notation</a></li><li><span class="tocitem">Advanced Usage Guide</span><ul><li><a class="tocitem" href="../AdvancedUsageGuide.html">Advanced Usage Guide</a></li><li><a class="tocitem" href="../Multithreading.html">Multithreading</a></li><li><a class="tocitem" href="../QNTricks.html">Symmetric (QN conserving) tensors: background and usage</a></li><li><a class="tocitem" href="../CodeTiming.html">Timing and profiling</a></li><li><a class="tocitem" href="../ContractionSequenceOptimization.html">Contraction sequence optimization</a></li><li><a class="tocitem" href="../HDF5FileFormats.html">HDF5 File Formats</a></li></ul></li><li><a class="tocitem" href="../DeveloperGuide.html">Developer Guide</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Getting Started with ITensor</a></li><li class="is-active"><a href="RunningCodes.html">Running ITensor and Julia Codes</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="RunningCodes.html">Running ITensor and Julia Codes</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/ITensor/ITensors.jl/blob/main/docs/src/getting_started/RunningCodes.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Running-ITensor-and-Julia-Codes"><a class="docs-heading-anchor" href="#Running-ITensor-and-Julia-Codes">Running ITensor and Julia Codes</a><a id="Running-ITensor-and-Julia-Codes-1"></a><a class="docs-heading-anchor-permalink" href="#Running-ITensor-and-Julia-Codes" title="Permalink"></a></h1><h2 id="Basic-Example-Code-Template"><a class="docs-heading-anchor" href="#Basic-Example-Code-Template">Basic Example Code Template</a><a id="Basic-Example-Code-Template-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Example-Code-Template" title="Permalink"></a></h2><p>The basic outline of a code which uses the ITensor library is as follows</p><pre><code class="language-julia hljs">using ITensors

let
  # ... your own code goes here ...
  # For example:
  i = Index(2,&quot;i&quot;)
  j = Index(3,&quot;j&quot;)
  T = randomITensor(i,j)
  @show T
end</code></pre><p>The reason we recommend the <code>let...end</code> block is that code written in the Julia global scope can have some surprising behaviors. Putting your code into a <code>let</code> block avoids these issues.</p><p>Alternatively, you can wrap your code in a function:</p><pre><code class="language-julia hljs">using ITensors

function main(; d1 = 2, d2 = 3)
  # ... your own code goes here ...
  # For example:
  i = Index(d1,&quot;i&quot;)
  j = Index(d2,&quot;j&quot;)
  T = randomITensor(i,j)
  @show T
end

main(; d1 = 4, d2 = 5)</code></pre><p>which can be useful in interactive mode, particularly if you might want to run your code with a variety of different arguments.</p><h2 id="Running-a-Script"><a class="docs-heading-anchor" href="#Running-a-Script">Running a Script</a><a id="Running-a-Script-1"></a><a class="docs-heading-anchor-permalink" href="#Running-a-Script" title="Permalink"></a></h2><p>Now say you put the above code into a file named <code>code.jl</code>. Then you can run this code on the command line as follows</p><pre><code class="nohighlight hljs">$ julia code.jl</code></pre><p>This script-like mode of running Julia is convenient for running longer jobs, such as on a cluster.</p><h2 id="Running-Interactively"><a class="docs-heading-anchor" href="#Running-Interactively">Running Interactively</a><a id="Running-Interactively-1"></a><a class="docs-heading-anchor-permalink" href="#Running-Interactively" title="Permalink"></a></h2><p>However, sometimes you want to do rapid development when first writing and  testing a code. For this kind of work, the long startup and compilation times currently incurred by the Julia compiler can be a nuisance. Fortunately a nice solution is to alternate between modifying your code then running it by loading it into an already running Julia session.</p><p>To set up this kind of session, take the following steps:</p><ol><li><p>Enter the interactive mode of Julia, by inputting the command <code>julia</code> on the command line. You will now be in the Julia &quot;REPL&quot; (read-eval-print loop) with the prompt <code>julia&gt;</code> on the left of your screen.</p></li><li><p>To run a code such as the <code>code.jl</code> file discussed above, input the command</p><pre><code class="nohighlight hljs">julia&gt; include(&quot;code.jl&quot;)</code></pre><p>Note that you must be in the same folder as <code>code.jl</code> for this to work; otherwise input the entire path to the <code>code.jl</code> file. The code will run and you will see its output in the REPL.</p></li><li><p>Now say you want to modify and re-run the code. To do this, just edit the file in an editor in another window, without closing your Julia session. Now run the command </p><pre><code class="nohighlight hljs">julia&gt; include(&quot;code.jl&quot;)</code></pre><p>again and your updated code will run, but this time skipping any of the precompilation overhead incurred on previous steps.</p></li></ol><p>The above steps to running a code interactively has a big advantage that you only have to pay the startup time of compiling ITensor and other libraries you are using once. Further changes to your code only incur very small extra compilation times, facilitating rapid development.</p><h2 id="Compiling-an-ITensor-System-Image"><a class="docs-heading-anchor" href="#Compiling-an-ITensor-System-Image">Compiling an ITensor System Image</a><a id="Compiling-an-ITensor-System-Image-1"></a><a class="docs-heading-anchor-permalink" href="#Compiling-an-ITensor-System-Image" title="Permalink"></a></h2><p>The above strategy of running code in the Julia REPL (interactive mode) works well, but still incurs a large start-up penalty for the first run of your code. Fortunately there is a nice way around this issue too: compiling ITensors.jl and making a system image built by the <a href="https://github.com/JuliaLang/PackageCompiler.jl">PackageCompiler.jl</a> library.</p><p>To use this approach, we have provided a convenient one-line command:</p><pre><code class="language-julia hljs">julia&gt; using ITensors; ITensors.compile()</code></pre><p>Once ITensors.jl is installed, you can just run this command in an interactive Julia session. It can take a few minutes to run, but you only have to run it once for a given version of ITensors.jl. When it is done, it will create a file <code>sys_itensors.so</code> in the directory <code>~/.julia/sysimages/</code>.</p><p>To use the compiled system image together with Julia, run the <code>julia</code> command (for interactive mode or scripts) in the following way:</p><pre><code class="nohighlight hljs">$ julia --sysimage ~/.julia/sysimages/sys_itensors.so</code></pre><p>A convenient thing to do is to make an alias in your shell for this command. To do this, edit your <code>.bashrc</code> or <code>.zshrc</code> or similar file for the shell you use by adding the following line:</p><pre><code class="nohighlight hljs">alias julia_itensors=&quot;julia --sysimage ~/.julia/sysimages/sys_itensors.so -e \&quot;using ITensors\&quot; -i &quot;</code></pre><p>where of course you can use the command name you like when defining the alias. Now running commands like <code>julia_itensors code.jl</code> or <code>julia_itensors</code> to start an interactive session will have the ITensor system image pre-loaded and you will notice significantly faster startup times. The arguments <code>-e \&quot;using ITensors\&quot; -i</code> make it so that running <code>julia_itensors</code> also loads the ITensor library as soon as Julia starts up, so that you don&#39;t have to type <code>using ITensors</code> every time.</p><h2 id="Using-a-Compiled-Sysimage-in-Jupyter-or-VS-Code"><a class="docs-heading-anchor" href="#Using-a-Compiled-Sysimage-in-Jupyter-or-VS-Code">Using a Compiled Sysimage in Jupyter or VS Code</a><a id="Using-a-Compiled-Sysimage-in-Jupyter-or-VS-Code-1"></a><a class="docs-heading-anchor-permalink" href="#Using-a-Compiled-Sysimage-in-Jupyter-or-VS-Code" title="Permalink"></a></h2><p>If you have compiled a sysimage for ITensor as shown above, you can use it in Jupyter by running the following code:</p><pre><code class="nohighlight hljs">using IJulia
installkernel(&quot;julia_ITensors&quot;,&quot;--sysimage=~/.julia/sysimages/sys_itensors.so&quot;)</code></pre><p>in the Julia REPL (Julia console).</p><p>To load the ITensor sysimage in VS Code, you can add </p><pre><code class="nohighlight hljs">&quot;--sysimage ~/.julia/sysimages/sys_itensors.so&quot;</code></pre><p>as an argument under the <code>julia.additionalArgs</code> setting in your Settings.json file.</p><p>For more information on the above, see the following <a href="https://discourse.julialang.org/t/using-an-itensors-sysimage-when-starting-the-julia-repl-in-vs-code/98625/4">Julia Discourse post</a>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="Installing.html">« Installing Julia and ITensor</a><a class="docs-footer-nextpage" href="DebugChecks.html">Enabling Debug Checks »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Thursday 20 July 2023 00:39">Thursday 20 July 2023</span>. Using Julia version 1.9.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
